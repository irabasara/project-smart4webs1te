import{g as c,n as r,N as m,o as h}from"./theme-switcher-74046db5.js";const o={bestBooks:document.querySelector(".home-title-book"),container:document.querySelector(".js-container-bestBooks"),nameCat:document.querySelector(".js-add-name-category"),cover:document.querySelector(".js-coverAllBooks"),btnBack:document.querySelector(".back")};o.btnBack.classList.add("is-hidden");o.container.addEventListener("click",j);o.btnBack.addEventListener("click",u);B();function B(){return c("top-books").then(({data:e})=>{o.container.insertAdjacentHTML("afterbegin",'<h2 class="home-title-book">Best  Sellers <span class="books">Books</span></h2>'),o.container.insertAdjacentHTML("beforeend",p(e)),r.Loading.remove(),e===0&&m.Notify.failure("There are no books in this category")})}function f(e){return e.map(({book_image:s,title:t,author:n,_id:a})=>`<li class="js-list-bestBooks" id=${a}>
            <img src="${s}" alt="${t}" data-id="${a}" loading="lazy" class="img-bestBooks"/>
            <h3 class="js-named-bestBooks">${t}</h3>
            <p class="js-autor-bestBooks">${n}</p>
        </li>`).join("")}function p(e){return e.map(({list_name:s,books:t})=>`<div class="wrapper"><h3 class="js-list-name">${s}</h3 >
        <ul class="js-overlow-bestBooks">${f(t)}</ul>
        <btn class="js-btn-bestBooks" data-js="${s}">See more</btn></div>`).join("")}function j(e){if(e.preventDefault(),e.target.classList.contains("img-bestBooks")){const s=e.target.dataset.id;e.target.addEventListener("click",h(s)),r.Loading.remove()}if(e.target.classList.contains("js-btn-bestBooks")){let s=e.target.dataset.js;o.container.innerHTML="",c(`category?category=${s}`).then(({data:t})=>{const n=s.split(" "),a=t.map(({book_image:l,title:i,author:d,_id:k})=>`
          <li class="js-list-allBooks id=${k}">
          <img src="${l}" alt="${i}" loading="lazy" class="img-bestBooks"/>
          <h3 class="js-named-bestBooks">${i}</h3>
          <p class="js-autor-bestBooks">${d}</p>
          </li>`).join("");o.container.insertAdjacentHTML("beforebegin",`<h2 class="home-title-book">${n.slice(0,n.length-1).join(" ")} <span class="books">${n.pop()}
          </span></h2> `),o.container.insertAdjacentHTML("beforeend",a),o.btnBack.classList.remove("is-hidden"),r.Loading.remove(),t===0&&m.Notify.failure("There are no books in this category")}).catch(t=>console.error(t))}}function u(e){e.preventDefault(),o.btnBack.classList.add("is-hidden"),o.container.innerHTML="",window.location.assign("./")}const b=document.querySelector(".all-categories");document.querySelector(".categories__list");const g=document.querySelector(".categories__link");b.addEventListener("click",y);g.addEventListener("click",u);g.classList.add("categories__item--active");c("category-list").then(({data:e})=>{L(e)});function L(e){let s=e.map(({list_name:t})=>`<li class="categories__item categories__link" data-category="${t}">${t}</li>`).join("");b.insertAdjacentHTML("beforeend",s)}function y(e){if(e.preventDefault(),e.target.classList.contains("categories__item")){let s=e.target.dataset.category;o.container.innerHTML="",c(`category?category=${s}`).then(({data:t})=>{g.classList.remove("categories__item--active");const n=t.map(({list_name:a,book_image:l,title:i,author:d,_id:k})=>`
          <li class="js-list-allBooks id=${k}">
          <img src="${l}" alt="${i}" loading="lazy" class="img-bestBooks"/>
          <h3 class="js-named-bestBooks">${i}</h3>
          <p class="js-autor-bestBooks">${d}</p>
          </li>`).join("");o.container.insertAdjacentHTML("beforeend",n),o.bestBooks.textContent=s,o.bestBooks.classList.remove("is-hidden"),o.btnBack.classList.add("is-hidden"),r.Loading.remove(),t===0&&Notiflix.Notify.failure("There are no books in this category")}).catch(t=>console.error(t))}}
