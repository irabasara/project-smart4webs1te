import{g as l,n as c,N as m,o as b}from"./show-hide-password-1a02496d.js";const s={bestBooks:document.querySelector(".home-title-book"),container:document.querySelector(".js-container-bestBooks"),nameCat:document.querySelector(".js-add-name-category"),btnBack:document.querySelector(".back"),chooseCat:document.querySelector(".categories__link")};s.btnBack.classList.add("is-hidden");s.container.addEventListener("click",y);s.btnBack.addEventListener("click",k);v();function v(){return l("top-books").then(({data:e})=>{s.container.insertAdjacentHTML("afterbegin",'<h2 class="home-title-book">Best  Sellers <span class="books">Books</span></h2>'),s.container.insertAdjacentHTML("beforeend",$(e)),c.Loading.remove(),e===0&&m.Notify.failure("There are no books in this category")})}function f(e){return e.map(({book_image:t,title:o,author:a,_id:n})=>`<li class="js-list-bestBooks" id="${n}">
            <img src="${t}" alt="${o}" data-id="${n}" loading="lazy" class="img-bestBooks"/>
            <div class="card-hover-categories" data-id="${n}"><p class="card-text-hover" data-id="${n}">quick view</p></div>
            <h3 class="js-named-bestBooks">${o}</h3>
            <p class="js-autor-bestBooks">${a}</p>
        </li>`).join("")}function $(e){return e.map(({list_name:t,books:o})=>`<div class="wrapper"><h3 class="js-list-name">${t}</h3 >
        <ul class="js-overlow-bestBooks">${f(o)}</ul>
        <btn class="js-btn-bestBooks" data-js="${t}">See more</btn></div>`).join("")}function y(e){if(e.preventDefault(),e.target.classList.contains("card-hover-categories")||e.target.classList.contains("card-text-hover")){const t=e.target.dataset.id;e.target.addEventListener("click",b(t)),c.Loading.remove()}if(e.target.classList.contains("js-btn-bestBooks")){let t=e.target.dataset.js;s.container.innerHTML="",l(`category?category=${t}`).then(({data:o})=>{h(t),s.chooseCat.classList.remove("categories__item--active");const a=t.split(" "),n=o.map(({book_image:d,title:r,author:g,_id:i})=>`
          <li class="js-list-allBooks" id="${i}">
          <img src="${d}" alt="${r}" data-id="${i}" loading="lazy" class="img-bestBooks"/>
          <div class="card-hover-categories" data-id="${i}"><p class="card-text-hover" data-id="${i}">quick view</p></div>
          <h3 class="js-named-bestBooks">${r}</h3>
          <p class="js-autor-bestBooks">${g}</p>
          </li>`).join("");s.container.insertAdjacentHTML("afterbegin",`<h2 class="home-title-book">${a.slice(0,a.length-1).join(" ")} <span class="books">${a.pop()}
          </span></h2> `),s.container.insertAdjacentHTML("beforeend",n),s.btnBack.classList.remove("is-hidden"),B(),c.Loading.remove(),o===0&&m.Notify.failure("There are no books in this category")}).catch(o=>console.error(o))}}function k(e){e.preventDefault(),s.btnBack.classList.add("is-hidden"),s.container.innerHTML="",window.location.assign("./")}function h(e){document.querySelector(".categories__item--active").classList.remove("categories__item--active"),document.querySelector(`li[data-category="${e}"]`).classList.add("categories__item--active")}function B(){const{height:e}=document.querySelector(".aside-wrapper").getBoundingClientRect();window<768||window.scrollBy(0,-e)}const p=document.querySelector(".all-categories");document.querySelector(".categories__list");const u=document.querySelector(".categories__link");p.addEventListener("click",j);u.addEventListener("click",k);u.classList.add("categories__item--active");l("category-list").then(({data:e})=>{L(e)});function L(e){let t=e.map(({list_name:o})=>`<li class="categories__item categories__link" data-category="${o}">${o}</li>`).join("");p.insertAdjacentHTML("beforeend",t)}function j(e){if(e.preventDefault(),e.target.classList.contains("categories__item")){let t=e.target.dataset.category;s.container.innerHTML="";const o=t.split(" ");l(`category?category=${t}`).then(({data:a})=>{u.classList.remove("categories__item--active"),h(t);const n=a.map(({book_image:d,title:r,author:g,_id:i})=>`<li class="js-list-allBooks id=${i}">
          <img src="${d}" alt="${r}" data-id="${i}" loading="lazy" class="img-bestBooks"/>
          <h3 class="js-named-bestBooks">${r}</h3>
          <p class="js-autor-bestBooks">${g}</p>
          <div class="card-hover-categories" data-id="${i}"><p class="card-text-hover" data-id="${i}">quick view</p></div>
          </li>`).join("");s.container.insertAdjacentHTML("afterbegin",`<h2 class="home-title-book">${o.slice(0,o.length-1).join(" ")} <span class="books">${o.pop()}</span></h2>`),s.container.insertAdjacentHTML("beforeend",n),s.btnBack.classList.add("is-hidden"),w(),c.Loading.remove(),a===0&&Notiflix.Notify.failure("There are no books in this category")}).catch(a=>console.error(a))}}function w(){const{height:e}=document.querySelector(".aside-wrapper").getBoundingClientRect();window.innerWidth<768&&window.scrollBy({top:e,behavior:"smooth"})}
